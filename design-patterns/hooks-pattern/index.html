<!DOCTYPE html><html lang="ko" data-astro-cid-sckkx6r4> <head><meta charset="utf-8"><meta content="ie=edge" http-equiv="x-ua-compatible"><meta content="initial-scale=1, maximum-scale=5, width=device-width, viewport-fit=cover" name="viewport"><meta content="er9zvCmECxtt0KP_BjDZ4WplZsNT5ApeDBK4wYD7aI0" name="google-site-verification"><meta content="eaca9475c8a73d77aa2e34ac3d3e8097cef7397d" name="naver-site-verification"><meta content="Astro v4.16.6" name="generator"><title>Patterns.dev.kr</title><link rel="canonical" href="https://patterns-dev-kr.github.io/design-patterns/hooks-pattern/"><meta name="description" content="모던 웹 앱 디자인 패턴"><meta name="robots" content="index, follow"><meta property="og:title" content="Hooks 패턴"><meta property="og:type" content="article"><meta property="og:image" content="./hooks-pattern.jpg"><meta property="og:url" content="https://patterns-dev-kr.github.io/design-patterns/hooks-pattern/"><meta property="og:image:url" content="./hooks-pattern.jpg"><meta property="og:image:alt" content="Hooks 패턴"><link crossorigin href="https://fonts.gstatic.com" rel="preconnect"><link href="/favicon.png" rel="icon" sizes="any" type="image/png"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="swap"><script src="https://www.googletagmanager.com/gtag/js?id=G-3XKKTEVFKQ" type="text/partytown"></script><script type="text/partytown">
      window.dataLayer = window.dataLayer || []
      function gtag() {
        // eslint-disable-next-line prefer-rest-params
        window.dataLayer.push(arguments)
      }
      gtag('js', new Date())
      gtag('config', 'G-3XKKTEVFKQ')
    </script><script>
      document.addEventListener('astro:page-load', () => {
        if (navigator.userAgent.indexOf('Win') > -1) {
          document.documentElement.classList.add('win')
        }
      })
    </script><link rel="stylesheet" href="/_astro/_slug_.CnWBadwT.css">
<link rel="stylesheet" href="/_astro/_slug_.OicVUOHF.css"><script type="module" src="/_astro/hoisted.4sIGGDry.js"></script>
<script>!(function(w,p,f,c){if(!window.crossOriginIsolated && !navigator.serviceWorker) return;c=w[p]=Object.assign(w[p]||{},{"lib":"/~partytown/","debug":false});c[f]=(c[f]||[]).concat(["dataLayer.push"])})(window,'partytown','forward');/* Partytown 0.10.2 - MIT builder.io */
const t={preserveBehavior:!1},e=e=>{if("string"==typeof e)return[e,t];const[n,r=t]=e;return[n,{...t,...r}]},n=Object.freeze((t=>{const e=new Set;let n=[];do{Object.getOwnPropertyNames(n).forEach((t=>{"function"==typeof n[t]&&e.add(t)}))}while((n=Object.getPrototypeOf(n))!==Object.prototype);return Array.from(e)})());!function(t,r,o,i,a,s,c,d,l,p,u=t,f){function h(){f||(f=1,"/"==(c=(s.lib||"/~partytown/")+(s.debug?"debug/":""))[0]&&(l=r.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(d=setTimeout(v,1e4),r.addEventListener("pt0",w),a?y(1):o.serviceWorker?o.serviceWorker.register(c+(s.swPath||"partytown-sw.js"),{scope:c}).then((function(t){t.active?y():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&y()}))}),console.error):v())))}function y(e){p=r.createElement(e?"script":"iframe"),t._pttab=Date.now(),e||(p.style.display="block",p.style.width="0",p.style.height="0",p.style.border="0",p.style.visibility="hidden",p.setAttribute("aria-hidden",!0)),p.src=c+"partytown-"+(e?"atomics.js?v=0.10.2":"sandbox-sw.html?"+t._pttab),r.querySelector(s.sandboxParent||"body").appendChild(p)}function v(n,o){for(w(),i==t&&(s.forward||[]).map((function(n){const[r]=e(n);delete t[r.split(".")[0]]})),n=0;n<l.length;n++)(o=r.createElement("script")).innerHTML=l[n].innerHTML,o.nonce=s.nonce,r.head.appendChild(o);p&&p.parentNode.removeChild(p)}function w(){clearTimeout(d)}s=t.partytown||{},i==t&&(s.forward||[]).map((function(r){const[o,{preserveBehavior:i}]=e(r);u=t,o.split(".").map((function(e,r,o){var a;u=u[o[r]]=r+1<o.length?u[o[r]]||(a=o[r+1],n.includes(a)?[]:{}):(()=>{let e=null;if(i){const{methodOrProperty:n,thisObject:r}=((t,e)=>{let n=t;for(let t=0;t<e.length-1;t+=1)n=n[e[t]];return{thisObject:n,methodOrProperty:e.length>0?n[e[e.length-1]]:void 0}})(t,o);"function"==typeof n&&(e=(...t)=>n.apply(r,...t))}return function(){let n;return e&&(n=e(arguments)),(t._ptf=t._ptf||[]).push(o,arguments),n}})()}))})),"complete"==r.readyState?h():(t.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h))}(window,document,navigator,top,window.crossOriginIsolated);;(e=>{e.addEventListener("astro:before-swap",e=>{let r=document.body.querySelector("iframe[src*='/~partytown/']");if(r)e.newDocument.body.append(r)})})(document);</script><style>[data-astro-transition-scope="astro-mw4a64ze-1"] { view-transition-name: sidebar; }@layer astro { ::view-transition-old(sidebar) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(sidebar) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(sidebar) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(sidebar) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-mw4a64ze-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-mw4a64ze-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-mw4a64ze-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-mw4a64ze-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-mw4a64ze-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-mw4a64ze-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-mw4a64ze-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-mw4a64ze-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style></head> <body data-astro-cid-sckkx6r4> <header data-header class="fixed left-0 right-0 top-0 z-10 h-20 px-3 transition-all ease-out [&.scroll]:h-12 [&.scroll]:bg-th-bg [&.scroll]:shadow-md" data-astro-cid-3ef6ksr2> <div class="container flex h-full items-center justify-between font-lexend text-th-text" data-astro-cid-3ef6ksr2> <div class="flex items-center gap-4" data-astro-cid-3ef6ksr2> <button class="flex h-6 w-6 flex-grow-0 items-center justify-center lg:hidden" data-menu-button type="button" data-astro-cid-3ef6ksr2> <svg width="1em" height="1em" viewBox="0 0 32 32" class="text-2xl" data-astro-cid-3ef6ksr2 data-icon="carbon:menu">  <symbol id="ai:carbon:menu"><path fill="currentColor" d="M4 6h24v2H4zm0 18h24v2H4zm0-12h24v2H4zm0 6h24v2H4z"/></symbol><use xlink:href="#ai:carbon:menu"></use>  </svg> </button> <a aria-label="Go to Home" class="text-2xl font-bold leading-none text-th-text no-underline" href="/" data-astro-cid-3ef6ksr2>patterns</a> </div> <nav class="flex items-center text-sm" data-astro-cid-3ef6ksr2> <a class="relative flex items-center px-3 font-light text-th-text no-underline data-[active]:font-medium" data-active href="/" data-astro-cid-3ef6ksr2>Read</a> <a class="relative flex items-center px-3 font-light text-th-text no-underline data-[active]:font-medium" href="/about" data-astro-cid-3ef6ksr2>About</a> <custom-theme-switcher data-astro-cid-dz5h74bc> <button class="relative flex h-8 w-8 place-content-center place-items-center rounded-sm" title="Change color theme" type="button" data-astro-cid-dz5h74bc> <svg width="1em" height="1em" viewBox="0 0 24 24" data-light data-astro-cid-dz5h74bc data-icon="octicon:sun-24">  <symbol id="ai:octicon:sun-24"><path fill="currentColor" d="M12 19a7 7 0 1 1 0-14a7 7 0 0 1 0 14m0-1.5a5.5 5.5 0 1 0 0-11a5.5 5.5 0 1 0 0 11m-5.657.157a.75.75 0 0 1 0 1.06l-1.768 1.768a.749.749 0 0 1-1.275-.326a.75.75 0 0 1 .215-.734l1.767-1.768a.75.75 0 0 1 1.061 0M3.515 3.515a.75.75 0 0 1 1.06 0l1.768 1.768a.749.749 0 0 1-.326 1.275a.75.75 0 0 1-.734-.215L3.515 4.575a.75.75 0 0 1 0-1.06M12 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 12 0M4 12a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 12m8 8a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 12 20m12-8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 24 12m-6.343 5.657a.75.75 0 0 1 1.06 0l1.768 1.768a.75.75 0 0 1-.018 1.042a.75.75 0 0 1-1.042.018l-1.768-1.767a.75.75 0 0 1 0-1.061m2.828-14.142a.75.75 0 0 1 0 1.06l-1.768 1.768a.75.75 0 0 1-1.042-.018a.75.75 0 0 1-.018-1.042l1.767-1.768a.75.75 0 0 1 1.061 0"/></symbol><use xlink:href="#ai:octicon:sun-24"></use>  </svg> <svg width="1em" height="1em" viewBox="0 0 24 24" data-dark data-astro-cid-dz5h74bc data-icon="octicon:moon-24">  <symbol id="ai:octicon:moon-24"><path fill="currentColor" d="m14.768 3.96l-.002-.005a9 9 0 0 0-.218-.779c-.13-.394.21-.8.602-.67q.435.144.855.328l.01.005A10.002 10.002 0 0 1 12 22a10 10 0 0 1-9.162-5.985l-.004-.01a10 10 0 0 1-.329-.855c-.13-.392.277-.732.67-.602q.386.126.78.218l.004.002A9 9 0 0 0 14.999 6a9 9 0 0 0-.231-2.04M16.5 6c0 5.799-4.701 10.5-10.5 10.5q-.64 0-1.26-.075A8.5 8.5 0 1 0 16.425 4.74q.075.62.075 1.259Z"/></symbol><use xlink:href="#ai:octicon:moon-24"></use>  </svg> <svg width="1em" height="1em" viewBox="0 0 24 24" data-auto data-astro-cid-dz5h74bc data-icon="octicon:devices-24">  <symbol id="ai:octicon:devices-24"><path fill="currentColor" d="M1 3.75C1 2.784 1.784 2 2.75 2h18.5c.966 0 1.75.784 1.75 1.75v4a.75.75 0 0 1-1.5 0v-4a.25.25 0 0 0-.25-.25H2.75a.25.25 0 0 0-.25.25v11.5c0 .138.112.25.25.25h9a.75.75 0 0 1 0 1.5h-1.287c-.126 1.266-.564 2.445-1.223 3.5h2.51a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.565-1.243c.964-1.105 1.598-2.382 1.769-3.757H2.75A1.75 1.75 0 0 1 1 15.25z"/><path fill="currentColor" d="M14 11.75c0-.967.783-1.75 1.75-1.75h5.5c.966 0 1.75.783 1.75 1.75v8.5A1.75 1.75 0 0 1 21.25 22h-5.5A1.75 1.75 0 0 1 14 20.25Zm1.75-.25a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h5.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25Z"/></symbol><use xlink:href="#ai:octicon:devices-24"></use>  </svg> </button> </custom-theme-switcher> <script>
  // for avoid FOUC
  const loadTheme = () => {
    if (typeof localStorage === 'undefined') {
      return { preferred: 'light', theme: 'auto' }
    }

    const value = localStorage.getItem('theme')

    return {
      preferred: matchMedia('(prefers-color-scheme: light)').matches
        ? 'light'
        : 'dark',
      theme: value === 'dark' || value === 'light' ? value : 'auto',
    }
  }

  const { preferred, theme } = loadTheme()
  const {
    documentElement: { classList },
  } = document

  if (theme === 'auto') {
    classList.add('auto')
  } else {
    classList.remove('auto')
  }

  const actual = theme === 'auto' ? preferred : theme

  if (actual === 'dark') {
    classList.add('dark')
  } else {
    classList.remove('dark')
  }
</script>   </nav> </div> </header>   <main class="relative" data-astro-cid-sckkx6r4>  <div class="px-3 transition-colors"> <div class="container relative mx-auto flex justify-center pt-20 text-th-text"> <custom-sidebar data-astro-cid-ssfzsv2f> <aside aria-label="Sidebar" data-astro-cid-ssfzsv2f> <button data-menu-close type="button" data-astro-cid-ssfzsv2f> <svg width="1em" height="1em" viewBox="0 0 32 32" class="h-6 w-6" data-astro-cid-ssfzsv2f data-icon="carbon:close">  <symbol id="ai:carbon:close"><path fill="currentColor" d="M17.414 16L24 9.414L22.586 8L16 14.586L9.414 8L8 9.414L14.586 16L8 22.586L9.414 24L16 17.414L22.586 24L24 22.586z"/></symbol><use xlink:href="#ai:carbon:close"></use>  </svg> </button> <h2 class="title" data-astro-cid-ssfzsv2f>Design Patterns</h2> <ul class="list" data-astro-cid-ssfzsv2f> <li data-astro-cid-ssfzsv2f> <a href="/design-patterns/introduction" data-astro-cid-ssfzsv2f> Design Pattern 소개 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/design-patterns/singleton-pattern" data-astro-cid-ssfzsv2f> Singleton 패턴 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/design-patterns/proxy-pattern" data-astro-cid-ssfzsv2f> Proxy 패턴 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/design-patterns/provider-pattern" data-astro-cid-ssfzsv2f> Provider 패턴 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/design-patterns/prototype-pattern" data-astro-cid-ssfzsv2f> Prototype 패턴 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/design-patterns/container-presentational-pattern" data-astro-cid-ssfzsv2f> Container/Presentational 패턴 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/design-patterns/observer-pattern" data-astro-cid-ssfzsv2f> Observer 패턴 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/design-patterns/module-pattern" data-astro-cid-ssfzsv2f> Module 패턴 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/design-patterns/mixin-pattern" data-astro-cid-ssfzsv2f> Mixin 패턴 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/design-patterns/mediator-middleware-pattern" data-astro-cid-ssfzsv2f> Mediator/Middleware 패턴 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/design-patterns/hoc-pattern" data-astro-cid-ssfzsv2f> HOC 패턴 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/design-patterns/render-props-pattern" data-astro-cid-ssfzsv2f> Render Props 패턴 </a> </li><li class="active" data-astro-cid-ssfzsv2f> <a href="/design-patterns/hooks-pattern" data-astro-cid-ssfzsv2f> Hooks 패턴 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/design-patterns/flyweight-pattern" data-astro-cid-ssfzsv2f> Flyweight 패턴 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/design-patterns/factory-pattern" data-astro-cid-ssfzsv2f> Factory 패턴 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/design-patterns/compound-pattern" data-astro-cid-ssfzsv2f> Compound 패턴 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/design-patterns/command-pattern" data-astro-cid-ssfzsv2f> Command 패턴 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/design-patterns/learnaing-javascript-design-patterns" data-astro-cid-ssfzsv2f> Learning JavaScript Design Patterns </a> </li> </ul> <h2 class="title" data-astro-cid-ssfzsv2f>Rendering Patterns</h2> <ul class="list" data-astro-cid-ssfzsv2f> <li data-astro-cid-ssfzsv2f> <a href="/rendering-patterns/introduction" data-astro-cid-ssfzsv2f> 소개 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/rendering-patterns/overview-of-reactjs" data-astro-cid-ssfzsv2f> Reactjs의 개요 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/rendering-patterns/overview-of-nextjs" data-astro-cid-ssfzsv2f> Nextjs의 개요 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/rendering-patterns/client-side-rendering" data-astro-cid-ssfzsv2f> 클라이언트 사이드 렌더링 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/rendering-patterns/server-side-rendering" data-astro-cid-ssfzsv2f> 서버 사이드 렌더링 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/rendering-patterns/static-rendering" data-astro-cid-ssfzsv2f> 정적 렌더링 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/rendering-patterns/incremental-static-generation" data-astro-cid-ssfzsv2f> Incremental Static Generation </a> </li><li data-astro-cid-ssfzsv2f> <a href="/rendering-patterns/progressive-hydration" data-astro-cid-ssfzsv2f> Progressive Hydration </a> </li><li data-astro-cid-ssfzsv2f> <a href="/rendering-patterns/streaming-server-side-rendering" data-astro-cid-ssfzsv2f> Streaming Server Side Rendering </a> </li><li data-astro-cid-ssfzsv2f> <a href="/rendering-patterns/react-server-components" data-astro-cid-ssfzsv2f> React Server Components </a> </li><li data-astro-cid-ssfzsv2f> <a href="/rendering-patterns/selective-hydration" data-astro-cid-ssfzsv2f> Selective Hydration </a> </li><li data-astro-cid-ssfzsv2f> <a href="/rendering-patterns/the-island-architecture" data-astro-cid-ssfzsv2f> The Island Architecture </a> </li> </ul> <h2 class="title" data-astro-cid-ssfzsv2f>Performance Patterns</h2> <ul class="list" data-astro-cid-ssfzsv2f> <li data-astro-cid-ssfzsv2f> <a href="/performance-patterns/loading-sequence" data-astro-cid-ssfzsv2f> 리소스 로딩 순서 최적화 </a> </li><li data-astro-cid-ssfzsv2f> <a href="/performance-patterns/static-import" data-astro-cid-ssfzsv2f> Static Import </a> </li><li data-astro-cid-ssfzsv2f> <a href="/performance-patterns/dynamic-import" data-astro-cid-ssfzsv2f> Dynamic Import </a> </li><li data-astro-cid-ssfzsv2f> <a href="/performance-patterns/import-on-visibility" data-astro-cid-ssfzsv2f> Import On Visibility </a> </li><li data-astro-cid-ssfzsv2f> <a href="/performance-patterns/import-on-interaction" data-astro-cid-ssfzsv2f> Import On Interaction </a> </li><li data-astro-cid-ssfzsv2f> <a href="/performance-patterns/route-based-splitting" data-astro-cid-ssfzsv2f> Route Based Splitting </a> </li><li data-astro-cid-ssfzsv2f> <a href="/performance-patterns/bundle-splitting" data-astro-cid-ssfzsv2f> Bundle Splitting </a> </li><li data-astro-cid-ssfzsv2f> <a href="/performance-patterns/prpl-pattern" data-astro-cid-ssfzsv2f> PRPL Pattern </a> </li><li data-astro-cid-ssfzsv2f> <a href="/performance-patterns/tree-shaking" data-astro-cid-ssfzsv2f> Tree Shaking </a> </li><li data-astro-cid-ssfzsv2f> <a href="/performance-patterns/preload" data-astro-cid-ssfzsv2f> Preload </a> </li><li data-astro-cid-ssfzsv2f> <a href="/performance-patterns/prefetch" data-astro-cid-ssfzsv2f> Prefetch </a> </li><li data-astro-cid-ssfzsv2f> <a href="/performance-patterns/third-parties" data-astro-cid-ssfzsv2f> Third Parties </a> </li><li data-astro-cid-ssfzsv2f> <a href="/performance-patterns/list-virtualization" data-astro-cid-ssfzsv2f> List Virtualization </a> </li><li data-astro-cid-ssfzsv2f> <a href="/performance-patterns/compressing-javascript" data-astro-cid-ssfzsv2f> Compressing JavaScript </a> </li> </ul> <h2 class="title" data-astro-cid-ssfzsv2f>Case Studies</h2> <ul class="list" data-astro-cid-ssfzsv2f> <li data-astro-cid-ssfzsv2f> <a href="/case-studies/airbnb-case-study" data-astro-cid-ssfzsv2f> Airbnb Case Study </a> </li><li data-astro-cid-ssfzsv2f> <a href="/case-studies/hey-com" data-astro-cid-ssfzsv2f> Hey.com </a> </li><li data-astro-cid-ssfzsv2f> <a href="/case-studies/optimizing-core-web-vitals-on-a-nextjs-app" data-astro-cid-ssfzsv2f> Optimizing Core Web Vitals on a Next.js app </a> </li> </ul> </aside> <div class="dimmed" data-astro-cid-ssfzsv2f></div> </custom-sidebar>   <div class="max-w-full flex-auto">  <div class="px-2 py-2 lg:ml-72" data-astro-cid-fzx4jmue> <h1 class="mb-4 break-all text-4xl tracking-tight" data-astro-cid-fzx4jmue>Hooks 패턴</h1> <div class="mb-2" data-astro-cid-fzx4jmue> <a class="text-sm" href="https://docs.google.com/forms/d/e/1FAIpQLScQPXWUlnKvkAhf7JJMENcPywlPKMmIFCYonxEByqKNJ3lu2g/viewform?usp=pp_url&entry.2111705104=design-patterns/hooks-pattern" rel="noreferrer" target="_blank" data-astro-cid-fzx4jmue>
📮 피드백 보내기
</a> </div> <div class="_content prose prose-stone mb-20 max-w-full dark:prose-invert prose-headings:font-semibold prose-h1:mt-20 prose-a:relative prose-a:no-underline prose-a:after:absolute prose-a:after:bottom-0 prose-a:after:left-0 prose-a:after:right-0 prose-a:after:h-[1px] prose-a:after:bg-th-text/80 prose-a:after:content-['']" data-astro-cid-fzx4jmue> <aside>📜 원문: <a href="https://www.patterns.dev/posts/hooks-pattern/" target="_blank">patterns.dev - hooks pattern</a></aside>
<p>React 16.8 버전에는 <a href="https://react.dev/blog/2023/03/16/introducing-react-dev#going-all-in-on-modern-react-with-hooks">Hooks</a>라는 기능이 추가되었다. Hooks는 React의 상태와 생명 주기 함수들을 ES2015의 클래스를 사용하지 않고 쓸 수 있게 해 준다.</p>
<p>Hooks가 디자인 패턴이 아닐순 있지만 Hooks는 앱에서 아주 중요한 역할을 한다. 여러 전통적인 디자인 패턴들은 모두 Hooks로 변경할 수 있다.</p>
<hr>
<h2 id="클래스-컴포넌트">클래스 컴포넌트</h2>
<p>Hooks가 추가되기 전에 React에서 상태와 생명 주기 함수를 사용하려면 클래스 컴포넌트를 꼭 사용해야 했다. 일반적인 React의 클래스 컴포넌트는 아래 예제 코드와 같이 생겼다.</p>
<pre class="astro-code catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4; overflow-x: auto;" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#CBA6F7">class</span><span style="color:#F9E2AF;font-style:italic"> MyComponent</span><span style="color:#CBA6F7"> extends</span><span style="color:#F9E2AF;font-style:italic"> React</span><span style="color:#94E2D5">.</span><span style="color:#F9E2AF;font-style:italic">Component</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#6C7086;font-style:italic">  /* Adding state and binding custom methods */</span></span>
<span class="line"><span style="color:#CBA6F7">  constructor</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">    super</span><span style="color:#CDD6F4">()</span></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">state </span><span style="color:#94E2D5">=</span><span style="color:#9399B2"> {</span><span style="color:#94E2D5"> ...</span><span style="color:#9399B2"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">customMethodOne </span><span style="color:#94E2D5">=</span><span style="color:#F38BA8"> this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">customMethodOne</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">bind</span><span style="color:#CDD6F4">(</span><span style="color:#F38BA8">this</span><span style="color:#CDD6F4">)</span></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">customMethodTwo </span><span style="color:#94E2D5">=</span><span style="color:#F38BA8"> this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">customMethodTwo</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">bind</span><span style="color:#CDD6F4">(</span><span style="color:#F38BA8">this</span><span style="color:#CDD6F4">)</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7086;font-style:italic">  /* Lifecycle Methods */</span></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  componentDidMount</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span><span style="color:#94E2D5"> ...</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  componentWillUnmount</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span><span style="color:#94E2D5"> ...</span><span style="color:#9399B2"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7086;font-style:italic">  /* Custom methods */</span></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  customMethodOne</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span><span style="color:#94E2D5"> ...</span><span style="color:#9399B2"> }</span></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  customMethodTwo</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span><span style="color:#94E2D5"> ...</span><span style="color:#9399B2"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  render</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span><span style="color:#CBA6F7"> return</span><span style="color:#9399B2"> {</span><span style="color:#94E2D5"> ...</span><span style="color:#9399B2"> }}</span></span>
<span class="line"><span style="color:#9399B2">}</span></span>
<span class="line"></span></code></pre>
<p>클래스 컴포넌트는 생성자에서 상태를 선언했고. <code>componentDidMount</code>와 <code>componentWillUnmout</code>같은 생명 주기 메서드들은 컴포넌트의 생명 주기를 기준으로 사이드 이펙트를 발생시켰고. 그 외에 추가 동작을 위한 메서드들을 선언할 수 있었다.</p>
<p>Hooks를 이용할 수 있게 된 지금에도 클래스 컴포넌트를 활용할 수 있지만 몇가지 단점이 존재한다. 클래스 컴포넌트를 활용할때의 단점을 살펴보자.</p>
<h2 id="es2015의-클래스를-알아야-한다">ES2015의 클래스를 알아야 한다</h2>
<p>Hooks가 추가되기 전에는 상태와 생명 주기 메서드를 쓰려면 클래스 컴포넌트로 만들어야 했기 때문에 해당 기능을 쓰기 위해서는 종종 함수형 컴포넌트를 클래스형 컴포넌트로 리펙토링해야만 했다.</p>
<p>아래 예제에서는 <code>div</code>를 버튼으로 사용하고 있다.</p>
<pre class="astro-code catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4; overflow-x: auto;" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#CBA6F7">function</span><span style="color:#89B4FA;font-style:italic"> Button</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">  return</span><span style="color:#94E2D5"> &#x3C;</span><span style="color:#89B4FA">div</span><span style="color:#F9E2AF"> className</span><span style="color:#94E2D5">=</span><span style="color:#A6E3A1">"btn"</span><span style="color:#94E2D5">></span><span style="color:#CDD6F4">disabled</span><span style="color:#94E2D5">&#x3C;/</span><span style="color:#89B4FA">div</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#9399B2">}</span></span>
<span class="line"></span></code></pre>
<p>컴포넌트는 항상 <code>disabled</code>를 보여줄 수 밖에 없지만 사용자가 버튼을 클릭했을 때에는 <code>enabled</code>로 보여주고 싶고. 버튼처럼 보이도록 CSS를 추가하려고 한다.</p>
<p>그러기 위해서는 <code>enabled</code>인지 <code>disabled</code>인지 상태를 유지해야 한다. 결국 함수형 컴포넌트를 클래스형 컴포넌트로 리펙토링하고 상태를 가지도록 리펙토링해야 했다.</p>
<pre class="astro-code catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4; overflow-x: auto;" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#CBA6F7">export</span><span style="color:#CBA6F7"> default</span><span style="color:#CBA6F7"> class</span><span style="color:#F9E2AF;font-style:italic"> Button</span><span style="color:#CBA6F7"> extends</span><span style="color:#F9E2AF;font-style:italic"> React</span><span style="color:#94E2D5">.</span><span style="color:#F9E2AF;font-style:italic">Component</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">  constructor</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">    super</span><span style="color:#CDD6F4">()</span></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">state </span><span style="color:#94E2D5">=</span><span style="color:#9399B2"> {</span><span style="color:#CDD6F4"> enabled</span><span style="color:#94E2D5">:</span><span style="color:#FAB387"> false</span><span style="color:#9399B2"> }</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  render</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">    const</span><span style="color:#9399B2"> {</span><span style="color:#CDD6F4"> enabled </span><span style="color:#9399B2">}</span><span style="color:#94E2D5"> =</span><span style="color:#F38BA8"> this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">state</span></span>
<span class="line"><span style="color:#CBA6F7">    const</span><span style="color:#CDD6F4"> btnText </span><span style="color:#94E2D5">=</span><span style="color:#EBA0AC"> enabled</span><span style="color:#94E2D5"> ?</span><span style="color:#A6E3A1"> 'enabled'</span><span style="color:#94E2D5"> :</span><span style="color:#A6E3A1"> 'disabled'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CBA6F7">    return</span><span style="color:#CDD6F4"> (</span></span>
<span class="line"><span style="color:#94E2D5">      &#x3C;</span><span style="color:#89B4FA">div</span></span>
<span class="line"><span style="color:#F9E2AF">        className</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#A6E3A1">`btn enabled-</span><span style="color:#9399B2">${</span><span style="color:#EBA0AC">enabled</span><span style="color:#9399B2">}</span><span style="color:#A6E3A1">`</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#F9E2AF">        onClick</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{()</span><span style="color:#CBA6F7"> =></span><span style="color:#F38BA8"> this</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">setState</span><span style="color:#CDD6F4">(</span><span style="color:#9399B2">{</span><span style="color:#CDD6F4"> enabled</span><span style="color:#94E2D5">:</span><span style="color:#94E2D5"> !</span><span style="color:#EBA0AC">enabled</span><span style="color:#9399B2"> }</span><span style="color:#CDD6F4">)</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#94E2D5">      ></span></span>
<span class="line"><span style="color:#9399B2">        {</span><span style="color:#EBA0AC">btnText</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#94E2D5">      &#x3C;/</span><span style="color:#89B4FA">div</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#CDD6F4">    )</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"><span style="color:#9399B2">}</span></span>
<span class="line"></span></code></pre>
<p>이렇게 하여 버튼은 원하는 동작을 할 수 있게 되었다.</p>
<iframe src="https://codesandbox.io/embed/hooks-1-2lp9w?fontsize=14&#x26;hidenavigation=1&#x26;module=%2Fsrc%2FButton.js&#x26;theme=dark" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" title="hooks-1" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe>
<pre class="astro-code catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4; overflow-x: auto;" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#CBA6F7">import</span><span style="color:#CDD6F4"> React </span><span style="color:#CBA6F7">from</span><span style="color:#A6E3A1"> 'react'</span></span>
<span class="line"><span style="color:#CBA6F7">import</span><span style="color:#A6E3A1"> './styles.css'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CBA6F7">export</span><span style="color:#CBA6F7"> default</span><span style="color:#CBA6F7"> class</span><span style="color:#F9E2AF;font-style:italic"> Button</span><span style="color:#CBA6F7"> extends</span><span style="color:#F9E2AF;font-style:italic"> React</span><span style="color:#94E2D5">.</span><span style="color:#F9E2AF;font-style:italic">Component</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">  constructor</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">    super</span><span style="color:#CDD6F4">()</span></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">state </span><span style="color:#94E2D5">=</span><span style="color:#9399B2"> {</span><span style="color:#CDD6F4"> enabled</span><span style="color:#94E2D5">:</span><span style="color:#FAB387"> false</span><span style="color:#9399B2"> }</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  render</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">    const</span><span style="color:#9399B2"> {</span><span style="color:#CDD6F4"> enabled </span><span style="color:#9399B2">}</span><span style="color:#94E2D5"> =</span><span style="color:#F38BA8"> this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">state</span></span>
<span class="line"><span style="color:#CBA6F7">    const</span><span style="color:#CDD6F4"> btnText </span><span style="color:#94E2D5">=</span><span style="color:#EBA0AC"> enabled</span><span style="color:#94E2D5"> ?</span><span style="color:#A6E3A1"> 'enabled'</span><span style="color:#94E2D5"> :</span><span style="color:#A6E3A1"> 'disabled'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CBA6F7">    return</span><span style="color:#CDD6F4"> (</span></span>
<span class="line"><span style="color:#94E2D5">      &#x3C;</span><span style="color:#89B4FA">div</span></span>
<span class="line"><span style="color:#F9E2AF">        className</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#A6E3A1">`btn enabled-</span><span style="color:#9399B2">${</span><span style="color:#EBA0AC">enabled</span><span style="color:#9399B2">}</span><span style="color:#A6E3A1">`</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#F9E2AF">        onClick</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{()</span><span style="color:#CBA6F7"> =></span><span style="color:#F38BA8"> this</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">setState</span><span style="color:#CDD6F4">(</span><span style="color:#9399B2">{</span><span style="color:#CDD6F4"> enabled</span><span style="color:#94E2D5">:</span><span style="color:#94E2D5"> !</span><span style="color:#EBA0AC">enabled</span><span style="color:#9399B2"> }</span><span style="color:#CDD6F4">)</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#94E2D5">      ></span></span>
<span class="line"><span style="color:#9399B2">        {</span><span style="color:#EBA0AC">btnText</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#94E2D5">      &#x3C;/</span><span style="color:#89B4FA">div</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#CDD6F4">    )</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"><span style="color:#9399B2">}</span></span>
<span class="line"></span></code></pre>
<p>예제에서 쓰인 컴포넌트는 작아서 리펙토링 하는 데 별로 어렵지 않았지만 실무에서는 사용되는 컴포넌트를 이렇게 리펙토링 하기는 매우 까다롭다.</p>
<p>또 리펙토링 과정에서 동작을 의도하지 않게 변경하지 않으려면 ES2015클래스에 대해서 알고 있어야 한다. 왜 메서드들에 bind를 사용했지? 생성자는 무엇을 하지? this키워드는 어디서 온 것이지? 이런것들을 고려하는 것은 어렵기 때문에 동작을 유지한 채로 리펙토링 하는것은 까다롭다.</p>
<h2 id="재설계">재설계</h2>
<p>여러 컴포넌트에서 코드를 공유하기 위해 HOC패턴이나 Render Prop 패턴을 사용한다. 이 패턴들도 유효하며 좋은 방법이지만 나중에 이런 패턴들을 도입하려 할 땐 구조를 재설계해야 할 수 있다.</p>
<p>컴포넌트의 크기가 클수록 앱을 재구성하기 까다롭다는 것 외에도. 중첩된 컴포넌트간에 코드를 공유하기 위해 컴포넌트 래핑을 많이 하면 Wrapper Hell이라는 안티 패턴이 나타날 수 있다. 개발 도구를 열었을 떄 아래 구조를 확인하기 어렵지 않을 것이다.</p>
<pre class="astro-code catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4; overflow-x: auto;" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#94E2D5">&#x3C;</span><span style="color:#F5C2E7">WrapperOne</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#94E2D5">  &#x3C;</span><span style="color:#F5C2E7">WrapperTwo</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#94E2D5">    &#x3C;</span><span style="color:#F5C2E7">WrapperThree</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#94E2D5">      &#x3C;</span><span style="color:#F5C2E7">WrapperFour</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#94E2D5">        &#x3C;</span><span style="color:#F5C2E7">WrapperFive</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#94E2D5">          &#x3C;</span><span style="color:#F5C2E7">Component</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#94E2D5">            &#x3C;</span><span style="color:#89B4FA">h1</span><span style="color:#94E2D5">></span><span style="color:#CDD6F4">Finally in the component!</span><span style="color:#94E2D5">&#x3C;/</span><span style="color:#89B4FA">h1</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#94E2D5">          &#x3C;/</span><span style="color:#F5C2E7">Component</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#94E2D5">        &#x3C;/</span><span style="color:#F5C2E7">WrapperFive</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#94E2D5">      &#x3C;/</span><span style="color:#F5C2E7">WrapperFour</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#94E2D5">    &#x3C;/</span><span style="color:#F5C2E7">WrapperThree</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#94E2D5">  &#x3C;/</span><span style="color:#F5C2E7">WrapperTwo</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#94E2D5">&#x3C;/</span><span style="color:#F5C2E7">WrapperOne</span><span style="color:#94E2D5">></span></span>
<span class="line"></span></code></pre>
<p>Wrapper Hell은 앱 내에서 데이터가 어떻게 흘러가는지 파악하기 어렵게 만들 뿐더러, 어떤 동작이 이뤄지고 있는지도 알기 어렵게 만든다.</p>
<h2 id="복잡도">복잡도</h2>
<p>클래스 컴포넌트에 로직을 추가해 갈 수록 컴포넌트의 크기는 빠르게 증가한다. 컴포넌트 내의 로직들은 서로 얽히고 분리하기 점점 더 어려워져 개발자가 클래스 컴포넌트 안에서 무슨 로직이 동작하는지 알기 어렵게 만든다. 결국 디버깅과 성능 최적화를 어렵게 만든다.</p>
<p>생명주기 메서드들은 꽤 많은 코드의 중복을 만들어낸다. 아래 예시는 <code>Counter</code>컴포넌트와 <code>Width</code>컴포넌트를 활용하고 있다.</p>
<pre class="astro-code catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4; overflow-x: auto;" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#CBA6F7">import</span><span style="color:#CDD6F4"> React </span><span style="color:#CBA6F7">from</span><span style="color:#A6E3A1"> 'react'</span></span>
<span class="line"><span style="color:#CBA6F7">import</span><span style="color:#A6E3A1"> './styles.css'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CBA6F7">import</span><span style="color:#9399B2"> {</span><span style="color:#CDD6F4"> Count </span><span style="color:#9399B2">}</span><span style="color:#CBA6F7"> from</span><span style="color:#A6E3A1"> './Count'</span></span>
<span class="line"><span style="color:#CBA6F7">import</span><span style="color:#9399B2"> {</span><span style="color:#CDD6F4"> Width </span><span style="color:#9399B2">}</span><span style="color:#CBA6F7"> from</span><span style="color:#A6E3A1"> './Width'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CBA6F7">export</span><span style="color:#CBA6F7"> default</span><span style="color:#CBA6F7"> class</span><span style="color:#F9E2AF;font-style:italic"> Counter</span><span style="color:#CBA6F7"> extends</span><span style="color:#F9E2AF;font-style:italic"> React</span><span style="color:#94E2D5">.</span><span style="color:#F9E2AF;font-style:italic">Component</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">  constructor</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">    super</span><span style="color:#CDD6F4">()</span></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">state </span><span style="color:#94E2D5">=</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CDD6F4">      count</span><span style="color:#94E2D5">:</span><span style="color:#FAB387"> 0</span><span style="color:#9399B2">,</span></span>
<span class="line"><span style="color:#CDD6F4">      width</span><span style="color:#94E2D5">:</span><span style="color:#FAB387"> 0</span><span style="color:#9399B2">,</span></span>
<span class="line"><span style="color:#9399B2">    }</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  componentDidMount</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">handleResize</span><span style="color:#CDD6F4">()</span></span>
<span class="line"><span style="color:#CDD6F4">    window</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">addEventListener</span><span style="color:#CDD6F4">(</span><span style="color:#A6E3A1">'resize'</span><span style="color:#9399B2">,</span><span style="color:#F38BA8"> this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">handleResize)</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  componentWillUnmount</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CDD6F4">    window</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">removeEventListener</span><span style="color:#CDD6F4">(</span><span style="color:#A6E3A1">'resize'</span><span style="color:#9399B2">,</span><span style="color:#F38BA8"> this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">handleResize)</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  increment</span><span style="color:#94E2D5"> =</span><span style="color:#9399B2"> ()</span><span style="color:#CBA6F7"> =></span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">setState</span><span style="color:#CDD6F4">(</span><span style="color:#9399B2">({</span><span style="color:#EBA0AC;font-style:italic"> count</span><span style="color:#9399B2"> })</span><span style="color:#CBA6F7"> =></span><span style="color:#CDD6F4"> (</span><span style="color:#9399B2">{</span><span style="color:#CDD6F4"> count</span><span style="color:#94E2D5">:</span><span style="color:#EBA0AC"> count</span><span style="color:#94E2D5"> +</span><span style="color:#FAB387"> 1</span><span style="color:#9399B2"> }</span><span style="color:#CDD6F4">))</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  decrement</span><span style="color:#94E2D5"> =</span><span style="color:#9399B2"> ()</span><span style="color:#CBA6F7"> =></span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">setState</span><span style="color:#CDD6F4">(</span><span style="color:#9399B2">({</span><span style="color:#EBA0AC;font-style:italic"> count</span><span style="color:#9399B2"> })</span><span style="color:#CBA6F7"> =></span><span style="color:#CDD6F4"> (</span><span style="color:#9399B2">{</span><span style="color:#CDD6F4"> count</span><span style="color:#94E2D5">:</span><span style="color:#EBA0AC"> count</span><span style="color:#94E2D5"> -</span><span style="color:#FAB387"> 1</span><span style="color:#9399B2"> }</span><span style="color:#CDD6F4">))</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  handleResize</span><span style="color:#94E2D5"> =</span><span style="color:#9399B2"> ()</span><span style="color:#CBA6F7"> =></span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">setState</span><span style="color:#CDD6F4">(</span><span style="color:#9399B2">{</span><span style="color:#CDD6F4"> width</span><span style="color:#94E2D5">:</span><span style="color:#CDD6F4"> window</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">innerWidth </span><span style="color:#9399B2">}</span><span style="color:#CDD6F4">)</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  render</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">    return</span><span style="color:#CDD6F4"> (</span></span>
<span class="line"><span style="color:#94E2D5">      &#x3C;</span><span style="color:#89B4FA">div</span><span style="color:#F9E2AF"> className</span><span style="color:#94E2D5">=</span><span style="color:#A6E3A1">"App"</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#94E2D5">        &#x3C;</span><span style="color:#F5C2E7">Count</span></span>
<span class="line"><span style="color:#F9E2AF">          count</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#F38BA8">this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">state</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">count</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#F9E2AF">          increment</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#F38BA8">this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">increment</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#F9E2AF">          decrement</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#F38BA8">this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">decrement</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#94E2D5">        /></span></span>
<span class="line"><span style="color:#94E2D5">        &#x3C;</span><span style="color:#89B4FA">div</span><span style="color:#F9E2AF"> id</span><span style="color:#94E2D5">=</span><span style="color:#A6E3A1">"divider"</span><span style="color:#94E2D5"> /></span></span>
<span class="line"><span style="color:#94E2D5">        &#x3C;</span><span style="color:#F5C2E7">Width</span><span style="color:#F9E2AF"> width</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#F38BA8">this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">state</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">width</span><span style="color:#9399B2">}</span><span style="color:#94E2D5"> /></span></span>
<span class="line"><span style="color:#94E2D5">      &#x3C;/</span><span style="color:#89B4FA">div</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#CDD6F4">    )</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"><span style="color:#9399B2">}</span></span>
<span class="line"></span></code></pre>
<p>App컴포넌트의 구조를 시각화 하면 아래와 같다.</p>
<img  src="/_astro/hooks01.B3GlubFh_Zx15OY.webp" alt="" width="1920" height="1080" loading="lazy" decoding="async">
<p>예시의 컴포넌트는 작은 컴포넌트이지만 컴포넌트 내 로직들은 이미 서로 얽혀있다. 코드의 일부는 <code>counter</code>를 위한 로직이고 다른 일부는 <code>width</code>를 위한 로직이다. 컴포넌트 크기가 커 지면 구조를 파악하기 어렵게 만들고 각 컴포넌트와 관련된 로직을 추려내기도 어려워 질 것이다.</p>
<p>복잡하게 얽힌 로직 뿐만 아니라 일부 로직은 생명주기 함수 내에서 중복되어 있다. <code>componentDidMount</code>와 <code>componentWillUnmount</code> 양쪽에서 윈도우의 resize이벤트를 기준으로 동작을 커스터마이징 하고 있다.</p>
<hr>
<h2 id="hooks">Hooks</h2>
<p>React의 클래스 컴포넌트가 항상 좋은 방법은 아니다. React 개발자가 클래스 컴포넌트를 개발할 때 겪는 문제들을 해결하기 위해 React는 Hooks를 추가했다. React Hooks는 컴포넌트의 상태와 라이프사이클 메서드를 관리할 수 있는 함수이다. React Hooks은 다음의 항목들을 가능하게 한다.</p>
<ul>
<li>함수형 컴포넌트에 상태를 추가한다</li>
<li><code>componentDidMount</code> 혹은 <code>componentWillUnmount</code>와 같은 생명주기 메서드 없이도 컴포넌트의 생명 주기를 관리할 수 있다.</li>
<li>앱 내에 상태를 가진 로직을 여러 컴포넌트에서 재사용할 수 있게 한다.</li>
</ul>
<p>먼저 Hooks을 사용하여 함수형 컴포넌트에 어떻게 상태를 추가할 수 있는지 확인해 보자.</p>
<h2 id="state-hook">State Hook</h2>
<p>React는 함수형 컴포넌트에서 상태 관리를 할 수 있도록 <code>useState</code>훅을 제공한다.</p>
<p>아래 예제를 통해 <code>useState</code>훅을 사용하여 클래스 컴포넌트를 어떻게 함수형 컴포넌트로 재구성 할 수 있는지 확인해 보자. <code>Input</code>컴포넌트는 단순히 input요소 하나를 렌더링 하고. 사용자의 타이핑을 상태에 업데이트 하고 있다.</p>
<pre class="astro-code catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4; overflow-x: auto;" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#CBA6F7">class</span><span style="color:#F9E2AF;font-style:italic"> Input</span><span style="color:#CBA6F7"> extends</span><span style="color:#F9E2AF;font-style:italic"> React</span><span style="color:#94E2D5">.</span><span style="color:#F9E2AF;font-style:italic">Component</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">  constructor</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">    super</span><span style="color:#CDD6F4">()</span></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">state </span><span style="color:#94E2D5">=</span><span style="color:#9399B2"> {</span><span style="color:#CDD6F4"> input</span><span style="color:#94E2D5">:</span><span style="color:#A6E3A1"> ''</span><span style="color:#9399B2"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">handleInput </span><span style="color:#94E2D5">=</span><span style="color:#F38BA8"> this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">handleInput</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">bind</span><span style="color:#CDD6F4">(</span><span style="color:#F38BA8">this</span><span style="color:#CDD6F4">)</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  handleInput</span><span style="color:#9399B2">(</span><span style="color:#EBA0AC;font-style:italic">e</span><span style="color:#9399B2">)</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">setState</span><span style="color:#CDD6F4">(</span><span style="color:#9399B2">{</span><span style="color:#CDD6F4"> input</span><span style="color:#94E2D5">:</span><span style="color:#CDD6F4"> e</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">target</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">value </span><span style="color:#9399B2">}</span><span style="color:#CDD6F4">)</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  render</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#9399B2">    ;</span><span style="color:#94E2D5">&#x3C;</span><span style="color:#CDD6F4">input onChange</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#CDD6F4">handleInput</span><span style="color:#9399B2">}</span><span style="color:#CDD6F4"> value</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#CDD6F4">this.state.input</span><span style="color:#9399B2">}</span><span style="color:#94E2D5"> /></span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"><span style="color:#9399B2">}</span></span>
<span class="line"></span></code></pre>
<p><code>useState</code> 훅을 사용하기 위해 먼저 React가 제공하는 <code>useState</code>훅을 알아보자. <code>useState</code> 메서드는 상태의 초기값이 될 인자를 하나 받는다. 예제에서는 빈 문자열이 될 것이다.</p>
<p><code>useState</code>의 반환값으로 부터 두 개의 값을 구조 분해를 통해 받을 수 있다.</p>
<ol>
<li>상태의 현재 값</li>
<li>상태를 업데이트 할 수 있는 함수</li>
</ol>
<pre class="astro-code catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4; overflow-x: auto;" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#CBA6F7">const</span><span style="color:#9399B2"> [</span><span style="color:#CDD6F4">value</span><span style="color:#9399B2">,</span><span style="color:#CDD6F4"> setValue</span><span style="color:#9399B2">]</span><span style="color:#94E2D5"> =</span><span style="color:#CDD6F4"> React</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">useState</span><span style="color:#CDD6F4">(initialValue)</span></span>
<span class="line"></span></code></pre>
<p>첫 번째 값은 클래스 컴포넌트의 <code>this.sate.[value]</code>에 대응하고. 두 번째 값은 클래스 컴포넌트의 <code>this.setState</code> 메서드에 대응된다.</p>
<p>우린 input요소의 값을 상태에 담아야 하므로. 초기값은 빈 문자열이 되어야 한다.</p>
<pre class="astro-code catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4; overflow-x: auto;" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#CBA6F7">const</span><span style="color:#9399B2"> [</span><span style="color:#CDD6F4">input</span><span style="color:#9399B2">,</span><span style="color:#CDD6F4"> setInput</span><span style="color:#9399B2">]</span><span style="color:#94E2D5"> =</span><span style="color:#CDD6F4"> React</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">useState</span><span style="color:#CDD6F4">(</span><span style="color:#A6E3A1">''</span><span style="color:#CDD6F4">)</span></span>
<span class="line"></span></code></pre>
<p>이제 <code>Input</code>클래스 컴포넌트를 상태를 가진 함수형 컴포넌트로 리펙토링 하였다.</p>
<pre class="astro-code catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4; overflow-x: auto;" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#CBA6F7">function</span><span style="color:#89B4FA;font-style:italic"> Input</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">  const</span><span style="color:#9399B2"> [</span><span style="color:#CDD6F4">input</span><span style="color:#9399B2">,</span><span style="color:#CDD6F4"> setInput</span><span style="color:#9399B2">]</span><span style="color:#94E2D5"> =</span><span style="color:#CDD6F4"> React</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">useState</span><span style="color:#CDD6F4">(</span><span style="color:#A6E3A1">''</span><span style="color:#CDD6F4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CBA6F7">  return</span><span style="color:#94E2D5"> &#x3C;</span><span style="color:#89B4FA">input</span><span style="color:#F9E2AF"> onChange</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#EBA0AC;font-style:italic">e</span><span style="color:#CBA6F7"> =></span><span style="color:#89B4FA;font-style:italic"> setInput</span><span style="color:#CDD6F4">(e</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">target</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">value)</span><span style="color:#9399B2">}</span><span style="color:#F9E2AF"> value</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#CDD6F4">input</span><span style="color:#9399B2">}</span><span style="color:#94E2D5"> /></span></span>
<span class="line"><span style="color:#9399B2">}</span></span>
<span class="line"></span></code></pre>
<p>클래스 컴포넌트에서 구현했던 것 처럼 input요소의 값은 input 상태와 같다. 사용자가 타이핑을 시작하면 <code>setInput</code>함수를 통해 input상태 역시 업데이트된다.</p>
<iframe src="https://codesandbox.io/embed/hooks-3-oicu6?fontsize=14&#x26;hidenavigation=1&#x26;module=%2Fsrc%2FInput.js&#x26;theme=dark" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" title="hooks-3" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe>
<hr>
<h2 id="effect-hook">Effect Hook</h2>
<p>앞서 <code>useState</code>를 사용하여 함수형 컴포넌트 내에서 상태를 다룰 수 있었다. 하지만 클래스형 컴포넌트의 또 다른 장점은 생명 주기 메서드를 사용할 수 있다는 것이다.</p>
<p><code>useEffect</code>훅을 사용하면 컴포넌트의 생명주기를 가로챌 수 있다. <code>useEffect</code>훅은 <code>componentDidMount</code>, <code>componentDidUpdate</code>, <code>componentWillUnmount</code>를 조합한 듯한 효과를 낸다.</p>
<pre class="astro-code catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4; overflow-x: auto;" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#89B4FA;font-style:italic">componentDidMount</span><span style="color:#CDD6F4">() </span><span style="color:#9399B2">{</span><span style="color:#94E2D5"> ...</span><span style="color:#9399B2"> }</span></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">useEffect</span><span style="color:#CDD6F4">(</span><span style="color:#9399B2">()</span><span style="color:#CBA6F7"> =></span><span style="color:#9399B2"> {</span><span style="color:#94E2D5"> ...</span><span style="color:#9399B2"> },</span><span style="color:#CDD6F4"> [])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">componentWillUnmount</span><span style="color:#CDD6F4">() </span><span style="color:#9399B2">{</span><span style="color:#94E2D5"> ...</span><span style="color:#9399B2"> }</span></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">useEffect</span><span style="color:#CDD6F4">(</span><span style="color:#9399B2">()</span><span style="color:#CBA6F7"> =></span><span style="color:#9399B2"> {</span><span style="color:#CBA6F7"> return</span><span style="color:#9399B2"> ()</span><span style="color:#CBA6F7"> =></span><span style="color:#9399B2"> {</span><span style="color:#94E2D5"> ...</span><span style="color:#9399B2"> }</span><span style="color:#9399B2"> },</span><span style="color:#CDD6F4"> [])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">componentDidUpdate</span><span style="color:#CDD6F4">() </span><span style="color:#9399B2">{</span><span style="color:#94E2D5"> ...</span><span style="color:#9399B2"> }</span></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">useEffect</span><span style="color:#CDD6F4">(</span><span style="color:#9399B2">()</span><span style="color:#CBA6F7"> =></span><span style="color:#9399B2"> {</span><span style="color:#94E2D5"> ...</span><span style="color:#9399B2"> }</span><span style="color:#CDD6F4">)</span></span>
<span class="line"></span></code></pre>
<p>위 State Hook 섹션에서 다뤘던 input의 예제를 보자. 사용자가 인풋 요소에 포커스를 둔 채로 타이핑을 시작하면 이 값을 콘솔에 출력하려 한다.</p>
<p><code>useEffect</code>가 input값을 지켜보도록 해야 한다. <code>input</code>을 <code>useEffect</code> 훅의 <strong>의존 배열</strong>에 추가한다. 의존 배열은 <code>useEffect</code>의 두 번째 인자로 전달하면 된다.</p>
<pre class="astro-code catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4; overflow-x: auto;" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#89B4FA;font-style:italic">useEffect</span><span style="color:#CDD6F4">(</span><span style="color:#9399B2">()</span><span style="color:#CBA6F7"> =></span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CDD6F4">  console</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">log</span><span style="color:#CDD6F4">(</span><span style="color:#A6E3A1">`The user typed </span><span style="color:#9399B2">${</span><span style="color:#CDD6F4">input</span><span style="color:#9399B2">}</span><span style="color:#A6E3A1">`</span><span style="color:#CDD6F4">)</span></span>
<span class="line"><span style="color:#9399B2">},</span><span style="color:#CDD6F4"> [input])</span></span>
<span class="line"></span></code></pre>
<p>아래 예제를 확인해 보자.</p>
<iframe src="https://codesandbox.io/embed/hooks-4-p237n?fontsize=14&#x26;hidenavigation=1&#x26;module=%2Fsrc%2FInput.js&#x26;theme=dark" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" title="hooks-4" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe>
<p>사용자가 인풋 필드에 값을 타이핑할때 마다 콘솔에 값이 출력되고 있다.</p>
<hr>
<h2 id="custom-hooks">Custom Hooks</h2>
<p>React가 제공하는 빌트인 훅들 (<code>useState</code>, <code>useEffect</code>, <code>useReducer</code>, <code>useRef</code>, <code>useContext</code>, <code>useMemo</code>, <code>useImperativeHandle</code>, <code>useLayoutEffect</code>, <code>useDebugValue</code>, <code>useCallback</code>) 을 이용하여 커스텀 훅을 직접 만들수도 있다.</p>
<p>모든 훅이 <code>use</code>로 시작하는것을 볼 수 있다. <a href="https://reactjs.org/docs/hooks-rules.html">Rules of Hooks</a>에 따라 모든 Hook들은 <code>use</code>로 시작해야 한다.</p>
<p>사용자가 input에 타이핑할 때 hook의 인자로 넘어온 키를 받을 수 있도록 구현해 보자.</p>
<pre class="astro-code catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4; overflow-x: auto;" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#CBA6F7">function</span><span style="color:#89B4FA;font-style:italic"> useKeyPress</span><span style="color:#9399B2">(</span><span style="color:#EBA0AC;font-style:italic">targetKey</span><span style="color:#9399B2">)</span><span style="color:#9399B2"> {}</span></span>
<span class="line"></span></code></pre>
<p><code>keydown</code>, <code>keyup</code>이벤트 리스너를 에서 인자로 넘어온 키 값을 감지하고. 사용자가 해당하는 키를 입력하면 <code>keydown</code> 이벤트가 발생한다. hook 내의 상태는 <code>true</code>가 될 것이다. 반대로 키에서 손을 떼면 <code>keyup</code>이벤트가 발생하고 상태는 <code>false</code>가 된다.</p>
<pre class="astro-code catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4; overflow-x: auto;" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#CBA6F7">function</span><span style="color:#89B4FA;font-style:italic"> useKeyPress</span><span style="color:#9399B2">(</span><span style="color:#EBA0AC;font-style:italic">targetKey</span><span style="color:#9399B2">)</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">  const</span><span style="color:#9399B2"> [</span><span style="color:#CDD6F4">keyPressed</span><span style="color:#9399B2">,</span><span style="color:#CDD6F4"> setKeyPressed</span><span style="color:#9399B2">]</span><span style="color:#94E2D5"> =</span><span style="color:#CDD6F4"> React</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">useState</span><span style="color:#CDD6F4">(</span><span style="color:#FAB387">false</span><span style="color:#CDD6F4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CBA6F7">  function</span><span style="color:#89B4FA;font-style:italic"> handleDown</span><span style="color:#9399B2">({</span><span style="color:#EBA0AC;font-style:italic"> key</span><span style="color:#9399B2"> })</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">    if</span><span style="color:#CDD6F4"> (key </span><span style="color:#94E2D5">===</span><span style="color:#CDD6F4"> targetKey) </span><span style="color:#9399B2">{</span></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">      setKeyPressed</span><span style="color:#CDD6F4">(</span><span style="color:#FAB387">true</span><span style="color:#CDD6F4">)</span></span>
<span class="line"><span style="color:#9399B2">    }</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CBA6F7">  function</span><span style="color:#89B4FA;font-style:italic"> handleUp</span><span style="color:#9399B2">({</span><span style="color:#EBA0AC;font-style:italic"> key</span><span style="color:#9399B2"> })</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">    if</span><span style="color:#CDD6F4"> (key </span><span style="color:#94E2D5">===</span><span style="color:#CDD6F4"> targetKey) </span><span style="color:#9399B2">{</span></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">      setKeyPressed</span><span style="color:#CDD6F4">(</span><span style="color:#FAB387">false</span><span style="color:#CDD6F4">)</span></span>
<span class="line"><span style="color:#9399B2">    }</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CDD6F4">  React</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">useEffect</span><span style="color:#CDD6F4">(</span><span style="color:#9399B2">()</span><span style="color:#CBA6F7"> =></span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CDD6F4">    window</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">addEventListener</span><span style="color:#CDD6F4">(</span><span style="color:#A6E3A1">'keydown'</span><span style="color:#9399B2">,</span><span style="color:#CDD6F4"> handleDown)</span></span>
<span class="line"><span style="color:#CDD6F4">    window</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">addEventListener</span><span style="color:#CDD6F4">(</span><span style="color:#A6E3A1">'keyup'</span><span style="color:#9399B2">,</span><span style="color:#CDD6F4"> handleUp)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CBA6F7">    return</span><span style="color:#9399B2"> ()</span><span style="color:#CBA6F7"> =></span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CDD6F4">      window</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">removeEventListener</span><span style="color:#CDD6F4">(</span><span style="color:#A6E3A1">'keydown'</span><span style="color:#9399B2">,</span><span style="color:#CDD6F4"> handleDown)</span></span>
<span class="line"><span style="color:#CDD6F4">      window</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">removeEventListener</span><span style="color:#CDD6F4">(</span><span style="color:#A6E3A1">'keyup'</span><span style="color:#9399B2">,</span><span style="color:#CDD6F4"> handleUp)</span></span>
<span class="line"><span style="color:#9399B2">    }</span></span>
<span class="line"><span style="color:#9399B2">  },</span><span style="color:#CDD6F4"> [])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CBA6F7">  return</span><span style="color:#CDD6F4"> keyPressed</span></span>
<span class="line"><span style="color:#9399B2">}</span></span>
<span class="line"></span></code></pre>
<p>아래 예제에서는 위의 hook을 이용하여 q, l, w의 입력을 콘솔에 출력한다.</p>
<iframe src="https://codesandbox.io/embed/hooks-5-xplez?fontsize=14&#x26;hidenavigation=1&#x26;module=%2Fsrc%2FInput.js&#x26;theme=dark" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" title="hooks-5" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe>
<p>키 입력 감지 로직을 <code>Input</code>컴포넌트 안에 넣는 대신 <code>useKeyPress</code> Hook을 활용해 여러 컴포넌트에 기능을 제공할 수 있다.</p>
<p>Hook의 최대 장점은 개발자들이 만든 Hook들을 서로 공유할 수 있다는 점이다. <code>useKeyPress</code>훅을 직접 만들었지만, 사실 그럴 필요가 없었다. 이미 누군가 <a href="https://usehooks.com/usekeypress">구현하여 공유</a>하고 있기 때문이다.</p>
<p>이래는 Hook들이 공유되고 있는 웹 사이트이고 앱에 바로 적용할 수 있다.</p>
<ul>
<li><strong><a href="https://github.com/streamich/react-use">React Use</a></strong></li>
<li><strong><a href="https://usehooks.com/">useHooks</a></strong></li>
<li><strong><a href="https://nikgraf.github.io/react-hooks/">Collection of React Hooks</a></strong></li>
</ul>
<hr>
<p>위에서 구현했던 counter와 width예제를 hook으로 리펙토링 해 보자.</p>
<iframe src="https://codesandbox.io/embed/hooks-6-2w0ll?fontsize=14&#x26;hidenavigation=1&#x26;theme=dark" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" title="hooks-6" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe>
<p><code>App</code>의 로직들을 여러 조각으로 나누었다.</p>
<ul>
<li><code>useCounter</code> : <code>count</code>와 값을 수정할 수 있는 <code>increment</code>, <code>decrement</code> 메서드를 반환하는 hook</li>
<li><code>useWindowWidth</code> : window의 현재 너비를 반환하는 hook</li>
<li><code>App</code> : 상태가 있는 함수형 컴포넌트로 Counter와 Width 컴포넌트를 반환한다.</li>
</ul>
<p>클래스 컴포넌트 대신 Hook을 사용하여 로직들을 작고 재사용가능한 조각으로 분리하였다.</p>
<p>변경 사항을 시각화해 이전과 비교해 보면 아래와 같다.</p>
<img  src="/_astro/hooks02.IhEMjXib_QJkuM.webp" alt="" width="1920" height="1080" loading="lazy" decoding="async">
<p>훅을 사용하여 컴포넌트를 훨씬 명확하고 작은 조각으로 분리하였다. 재사용하기도 훨씬 수월하다. 더 이상 상태를 위해 함수형 컴포넌트를 클래스형으로 변경하지 않아도 된다. ES2015의 클래스에 대한 지식은 크게 필요하지 않아졌다. 상태를 가지는 재사용 가능 로직은 테스트하기도 유연성도 가독성도 모두 높여주었다.</p>
<h2 id="additional-hooks-guidance">Additional Hooks Guidance</h2>
<h3 id="훅-추가하기">훅 추가하기</h3>
<p>아래는 코드에 훅을 추가하고 싶을 때 참고할 수 있는 일반적인 훅에 대한 요약이다.</p>
<ol>
<li>useState: 함수형 컴포넌트 내에서 상태를 관리하려 할 때 클래스형 컴포넌트로 변경하지 않아도 이를 가능케 하는 훅이다. 다른 훅들에 비해 사용법이 단순하다</li>
<li>useEffect: 코드를 컴포넌트의 생명 주기에 실행하기 위한 훅이다. 컴포넌트 함수 본문에서 변경을 하거나 뭔가를 구독하거나 타이머를 만들거나 로깅을 하는 등의 사이드 이펙트를 발생시키는것은 금지하고 있다. 허용될 경우 버그가 생기거나 모델과 뷰가 일치되지 않는 상황이 생길 수 있기 때문이다. useEffect는 이런 사이드 이펙트가 발생하는것을 예방하고 UI가 부드럽게 동작하도록 한다. <code>componentDidMount</code>, <code>componentDidUpdate</code>, <code>componentWillUnmount</code>를 합친 것과 유사하다</li>
<li>useContext: 컨텍스트 객체를 받아서 provider에 넘겼던 값을 반환한다. React 의 Context API와 함께 동작하여 앱 전반적으로 공유하는 데이터를 prop drilling 없이 사용할 수 있게 해 준다.</li>
</ol>
<p>주의해야 할 점은 <code>useContext</code>의 인자로는 컨텍스트 객체를 넘겨야 하고, <code>useContext</code>를 사용하는 컴포넌트는 컨텍스트 업데이트 시 마다 리렌더링 된다는 점이다. 4. useReducer: <code>setState</code>대신 사용할 수 있으며 특히 이전 상태에서 다음 상태로 변경될 때 복잡한 상태 로직과 파생되는 변수들을 만들어 내야 하는 경우 더 선호된다. <code>reducer</code> 함수와 초기 값을 인자로 받아 초기값과 <code>dispatch</code>함수를 반환한다. <code>useReducer</code> 는 또한 컴포넌트의 복잡한 상태에서 깊이 선언된 값을 변경할 때의 성능에 최적화되어 있다.</p>
<h3 id="hook의-장점과-단점">Hook의 장점과 단점</h3>
<p>Hooks를 사용하며 얻는 장점들은 다음과 같다.</p>
<p>코드가 간결하다. 생명 주기와 얽히지 않으며 코드들을 관심사와 기능에 따라 분류할 수 있다. 이는 코드를 깔끔하게 할 뿐만 아니라 간결하면서도 짧게 유지할 수 있다. 아래는 상품 목록을 보여주는 컴포넌트에 대해 클래스와 함수형으로 구현한 예시이다.</p>
<pre class="astro-code catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4; overflow-x: auto;" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#CBA6F7">class</span><span style="color:#F9E2AF;font-style:italic"> TweetSearchResults</span><span style="color:#CBA6F7"> extends</span><span style="color:#F9E2AF;font-style:italic"> React</span><span style="color:#94E2D5">.</span><span style="color:#F9E2AF;font-style:italic">Component</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">  constructor</span><span style="color:#9399B2">(</span><span style="color:#EBA0AC;font-style:italic">props</span><span style="color:#9399B2">)</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">    super</span><span style="color:#CDD6F4">(props)</span></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">state </span><span style="color:#94E2D5">=</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CDD6F4">      filterText</span><span style="color:#94E2D5">:</span><span style="color:#A6E3A1"> ''</span><span style="color:#9399B2">,</span></span>
<span class="line"><span style="color:#CDD6F4">      inThisLocation</span><span style="color:#94E2D5">:</span><span style="color:#FAB387"> false</span><span style="color:#9399B2">,</span></span>
<span class="line"><span style="color:#9399B2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">handleFilterTextChange </span><span style="color:#94E2D5">=</span><span style="color:#F38BA8"> this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">handleFilterTextChange</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">bind</span><span style="color:#CDD6F4">(</span><span style="color:#F38BA8">this</span><span style="color:#CDD6F4">)</span></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">handleInThisLocationChange </span><span style="color:#94E2D5">=</span><span style="color:#F38BA8"> this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">handleInThisLocationChange</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">bind</span><span style="color:#CDD6F4">(</span><span style="color:#F38BA8">this</span><span style="color:#CDD6F4">)</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  handleFilterTextChange</span><span style="color:#9399B2">(</span><span style="color:#EBA0AC;font-style:italic">filterText</span><span style="color:#9399B2">)</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">setState</span><span style="color:#CDD6F4">(</span><span style="color:#9399B2">{</span></span>
<span class="line"><span style="color:#CDD6F4">      filterText</span><span style="color:#94E2D5">:</span><span style="color:#CDD6F4"> filterText</span><span style="color:#9399B2">,</span></span>
<span class="line"><span style="color:#9399B2">    }</span><span style="color:#CDD6F4">)</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  handleInThisLocationChange</span><span style="color:#9399B2">(</span><span style="color:#EBA0AC;font-style:italic">inThisLocation</span><span style="color:#9399B2">)</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#F38BA8">    this</span><span style="color:#94E2D5">.</span><span style="color:#89B4FA;font-style:italic">setState</span><span style="color:#CDD6F4">(</span><span style="color:#9399B2">{</span></span>
<span class="line"><span style="color:#CDD6F4">      inThisLocation</span><span style="color:#94E2D5">:</span><span style="color:#CDD6F4"> inThisLocation</span><span style="color:#9399B2">,</span></span>
<span class="line"><span style="color:#9399B2">    }</span><span style="color:#CDD6F4">)</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">  render</span><span style="color:#9399B2">()</span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">    return</span><span style="color:#CDD6F4"> (</span></span>
<span class="line"><span style="color:#94E2D5">      &#x3C;</span><span style="color:#89B4FA">div</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#94E2D5">        &#x3C;</span><span style="color:#F5C2E7">SearchBar</span></span>
<span class="line"><span style="color:#F9E2AF">          filterText</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#F38BA8">this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">state</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">filterText</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#F9E2AF">          inThisLocation</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#F38BA8">this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">state</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">inThisLocation</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#F9E2AF">          onFilterTextChange</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#F38BA8">this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">handleFilterTextChange</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#F9E2AF">          onInThisLocationChange</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#F38BA8">this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">handleInThisLocationChange</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#94E2D5">        /></span></span>
<span class="line"><span style="color:#94E2D5">        &#x3C;</span><span style="color:#F5C2E7">TweetList</span></span>
<span class="line"><span style="color:#F9E2AF">          tweets</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#F38BA8">this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">props</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">tweets</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#F9E2AF">          filterText</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#F38BA8">this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">state</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">filterText</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#F9E2AF">          inThisLocation</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#F38BA8">this</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">state</span><span style="color:#94E2D5">.</span><span style="color:#CDD6F4">inThisLocation</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#94E2D5">        /></span></span>
<span class="line"><span style="color:#94E2D5">      &#x3C;/</span><span style="color:#89B4FA">div</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#CDD6F4">    )</span></span>
<span class="line"><span style="color:#9399B2">  }</span></span>
<span class="line"><span style="color:#9399B2">}</span></span>
<span class="line"></span></code></pre>
<pre class="astro-code catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4; overflow-x: auto;" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#CBA6F7">const</span><span style="color:#89B4FA;font-style:italic"> TweetSearchResults</span><span style="color:#94E2D5"> =</span><span style="color:#9399B2"> ({</span><span style="color:#EBA0AC;font-style:italic"> tweets</span><span style="color:#9399B2"> })</span><span style="color:#CBA6F7"> =></span><span style="color:#9399B2"> {</span></span>
<span class="line"><span style="color:#CBA6F7">  const</span><span style="color:#9399B2"> [</span><span style="color:#CDD6F4">filterText</span><span style="color:#9399B2">,</span><span style="color:#CDD6F4"> setFilterText</span><span style="color:#9399B2">]</span><span style="color:#94E2D5"> =</span><span style="color:#89B4FA;font-style:italic"> useState</span><span style="color:#CDD6F4">(</span><span style="color:#A6E3A1">''</span><span style="color:#CDD6F4">)</span></span>
<span class="line"><span style="color:#CBA6F7">  const</span><span style="color:#9399B2"> [</span><span style="color:#CDD6F4">inThisLocation</span><span style="color:#9399B2">,</span><span style="color:#CDD6F4"> setInThisLocation</span><span style="color:#9399B2">]</span><span style="color:#94E2D5"> =</span><span style="color:#89B4FA;font-style:italic"> useState</span><span style="color:#CDD6F4">(</span><span style="color:#FAB387">false</span><span style="color:#CDD6F4">)</span></span>
<span class="line"><span style="color:#CBA6F7">  return</span><span style="color:#CDD6F4"> (</span></span>
<span class="line"><span style="color:#94E2D5">    &#x3C;</span><span style="color:#89B4FA">div</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#94E2D5">      &#x3C;</span><span style="color:#F5C2E7">SearchBar</span></span>
<span class="line"><span style="color:#F9E2AF">        filterText</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#CDD6F4">filterText</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#F9E2AF">        inThisLocation</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#CDD6F4">inThisLocation</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#F9E2AF">        setFilterText</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#CDD6F4">setFilterText</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#F9E2AF">        setInThisLocation</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#CDD6F4">setInThisLocation</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#94E2D5">      /></span></span>
<span class="line"><span style="color:#94E2D5">      &#x3C;</span><span style="color:#F5C2E7">TweetList</span></span>
<span class="line"><span style="color:#F9E2AF">        tweets</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#CDD6F4">tweets</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#F9E2AF">        filterText</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#CDD6F4">filterText</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#F9E2AF">        inThisLocation</span><span style="color:#94E2D5">=</span><span style="color:#9399B2">{</span><span style="color:#CDD6F4">inThisLocation</span><span style="color:#9399B2">}</span></span>
<span class="line"><span style="color:#94E2D5">      /></span></span>
<span class="line"><span style="color:#94E2D5">    &#x3C;/</span><span style="color:#89B4FA">div</span><span style="color:#94E2D5">></span></span>
<span class="line"><span style="color:#CDD6F4">  )</span></span>
<span class="line"><span style="color:#9399B2">}</span></span>
<span class="line"></span></code></pre>
<h3 id="복잡한-컴포넌트를-단순화-해-준다">복잡한 컴포넌트를 단순화 해 준다</h3>
<p>자바스크립트의 클래스는 관리하기 힘들고 핫 리로딩과 함께 쓰기 어려우며 minifiy도 잘 되지 않는다. React의 Hook은 이런 문제들을 해결하고 함수형 프로그래밍을 쉽게 만들어주었다. Hook이 있으면 클래스 컴포넌트를 만들 필요가 없다.</p>
<p>상태 로직이 있는 자바스크립트의 클래스를 사용하는 것은 여러 단계의 상속 구현을 유도하고 전체적인 복잡도를 빠르게 증가시키며 에러를 발생하기 쉽게 만든다. 하지만 훅은 상태를 만드는 것 뿐만 아니라 React의 기능들을 클래스 없이 작성할 수 있다. React를 사용하면 상태를 가진 로직을 계속 재작성하지 않고 재사용할 수 있다. 에러를 발생시킬 확률을 낮추며 일반 함수를 조립해서 쓸 수 있게 해 준다.</p>
<p>훅이 구현되기 전에는 React에서 뷰가 없는 로직을 추출해내기가 어려웠다. 이는 HOC패턴이나 render prop패턴을 사용할 때 복잡도를 증가시키는 원인이 되었다. 하지만 훅이 추가되면서 상태가 있는 로직을 언제든 자바스크립트 함수로 분리할 수 있게 되었다.</p>
<h3 id="훅도-주의해야할-몇-가지-단점들이-존재한다">훅도 주의해야할 몇 가지 단점들이 존재한다</h3>
<ul>
<li>규칙에 따라 작성해야 한다. 정적 분석기 플러그인을 사용하지 않으면 어떤 훅이 규칙을 어기고 있는지 알기 어렵다</li>
<li>올바르게 사용하기 위해 익숙하게 쓸 줄 알아야 한다</li>
<li>잘못 쓸 수 있다 (예를 들어 useCallback, useMemo)</li>
</ul>
<h2 id="react-hooks-vs-classes">React Hooks vs Classes</h2>
<p>훅이 React에 처음 소개되었을 때 새로운 이슈가 생겼었다. 클래스 컴포넌트와 함수형 컴포넌트+훅 조합을 어떤 기준에서 선택해야 할 까? 라는 이슈였다. 훅의 도움으로 함수형 컴포넌트에서도 상태와 일부 생명 주기 메서드를 사용할 수 있게 되었다. 훅은 클래스를 작성하지 않아도 로컬 상태와 그 외 다른 React의 기능을 이용할 수 있게 해 주었다.</p>
<p>아래는 클래스와 함수형+훅 조합 선택에 도움이 될 만한 차이점을 정리한 내용이다.</p>

















<table><thead><tr><th>React Hooks</th><th>Classes</th></tr></thead><tbody><tr><td>여러 계층을 만들게 되는것을 피할 수 있으며 코드가 훨씬 깔끔해진다</td><td>일반적으로 HOC패턴이나 render props패턴 사용시 앱을 여러 계층으로 재구성해야 한다</td></tr><tr><td>컴포넌트들을 더 일관되도록 구현할 수 있다</td><td>클래스는 사람이나 컴퓨터나 함수 호출시마다 바인딩 된 컨텍스트가 무엇인지 이해하기 어렵다</td></tr></tbody></table> </div> </div>  </div> </div> </div>  </main> </body></html> 